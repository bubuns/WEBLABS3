{% extends "base.html" %}

{% block title %}Валидация номера телефона - Flask Web App{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-8">
        <h1>Валидация номера телефона</h1>
        <p class="lead">Проверка формата номера телефона с отображением ошибок</p>
        
        <div class="card">
            <div class="card-header">
                <h5>Форма ввода номера телефона</h5>
            </div>
            <div class="card-body">
                <form method="POST">
                    <div class="mb-3">
                        <label for="phone" class="form-label">Номер телефона</label>
                        <input type="text" 
                               class="form-control {% if error_message %}is-invalid{% endif %}" 
                               id="phone" 
                               name="phone" 
                               value="{{ phone or '' }}"
                               placeholder="Введите номер телефона">
                        {% if error_message %}
                        <div class="invalid-feedback">
                            {{ error_message }}
                        </div>
                        {% endif %}
                        <div class="form-text">
                            Поддерживаемые форматы: +7 (123) 456-75-90, 8(123)4567590, 123.456.75.90
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Проверить</button>
                </form>
            </div>
        </div>
        
        {% if formatted_phone %}
        <div class="alert alert-success mt-3">
            <h5>Результат валидации:</h5>
            <p><strong>Исходный номер:</strong> {{ phone }}</p>
            <p><strong>Отформатированный номер:</strong> <code>{{ formatted_phone }}</code></p>
        </div>
        {% endif %}
    </div>
    
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">
                <h5>Правила валидации</h5>
            </div>
            <div class="card-body">
                <h6>Допустимые форматы:</h6>
                <ul class="list-unstyled">
                    <li><code>+7 (123) 456-75-90</code></li>
                    <li><code>8(123)4567590</code></li>
                    <li><code>123.456.75.90</code></li>
                    <li><code>8 123 456 75 90</code></li>
                    <li><code>+7-123-456-75-90</code></li>
                </ul>
                
                <h6>Требования:</h6>
                <ul>
                    <li>10-11 цифр</li>
                    <li>11 цифр для номеров, начинающихся с +7 или 8</li>
                    <li>10 цифр для остальных случаев</li>
                    <li>Дополнительные символы: пробелы, (), -, ., +</li>
                </ul>
                
                <h6>Возможные ошибки:</h6>
                <ul>
                    <li>Неверное количество цифр</li>
                    <li>Недопустимые символы</li>
                </ul>
            </div>
        </div>
        
        <div class="card mt-3">
            <div class="card-header">
                <h5>Примеры тестирования</h5>
            </div>
            <div class="card-body">
                <h6>Корректные номера:</h6>
                <ul class="list-unstyled">
                    <li><code>+7 (123) 456-75-90</code></li>
                    <li><code>8(123)4567590</code></li>
                    <li><code>123.456.75.90</code></li>
                </ul>
                
                <h6>Некорректные номера:</h6>
                <ul class="list-unstyled">
                    <li><code>123456789</code> (9 цифр)</li>
                    <li><code>12345678901</code> (11 цифр, но не +7/8)</li>
                    <li><code>123abc456</code> (буквы)</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}
