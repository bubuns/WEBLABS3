# Лабораторная работа №2. Работа с данными запроса

Веб-приложение на Flask для работы с данными HTTP запроса и валидации номера телефона.

## Описание

Приложение реализует следующие функции:

1. **Отображение данных запроса:**
   - Параметры URL
   - Заголовки запроса
   - Cookie (с возможностью установки и удаления)
   - Параметры формы

2. **Валидация номера телефона:**
   - Проверка формата номера телефона
   - Поддержка различных форматов ввода
   - Отображение ошибок с использованием Bootstrap
   - Форматирование номера в стандартный вид

## Установка и запуск

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Запустите приложение:
```bash
python app.py
```

3. Откройте браузер и перейдите по адресу: http://127.0.0.1:5000

## Структура проекта

```
├── app.py                 # Основной файл приложения
├── test_app.py           # Тесты для приложения
├── requirements.txt      # Зависимости Python
├── README.md            # Документация
└── templates/           # HTML шаблоны
    ├── base.html        # Базовый шаблон
    ├── index.html       # Главная страница
    ├── url_params.html  # Страница URL параметров
    ├── headers.html     # Страница заголовков
    ├── cookies.html     # Страница работы с cookies
    ├── form_params.html # Страница параметров формы
    └── phone_validation.html # Страница валидации телефона
```

## Функциональность

### 1. Отображение данных запроса

#### URL Параметры (`/url_params`)
- Отображает все параметры, переданные в URL
- Пример: `/url_params?name=John&age=25`

#### Заголовки запроса (`/headers`)
- Показывает все HTTP заголовки запроса
- Отображает информацию о методе, URL, User-Agent и т.д.

#### Cookie (`/cookies`)
- Просмотр текущих cookies
- Установка новых cookies
- Удаление существующих cookies

#### Параметры формы (`/form_params`)
- Форма для ввода различных данных
- Отображение отправленных данных после POST запроса

### 2. Валидация номера телефона

#### Поддерживаемые форматы:
- `+7 (123) 456-75-90`
- `8(123)4567590`
- `123.456.75.90`
- `8 123 456 75 90`
- `+7-123-456-75-90`

#### Правила валидации:
- 10-11 цифр в номере
- 11 цифр для номеров, начинающихся с +7 или 8
- 10 цифр для остальных случаев
- Дополнительные символы: пробелы, (), -, ., +

#### Обработка ошибок:
- **Неверное количество цифр** - если в номере не 10 или 11 цифр
- **Недопустимые символы** - если встречаются символы кроме цифр и разрешенных дополнительных

#### Форматирование:
Все корректные номера преобразуются в формат: `8-***-***-**-**`

## Тестирование

Запустите тесты:
```bash
python test_app.py
```

### Покрытие тестами:

1. **Страницы приложения (5 тестов):**
   - Главная страница
   - URL параметры (пустые и с данными)
   - Заголовки запроса
   - Cookie (пустые, установка, удаление)
   - Параметры формы (GET и POST)

2. **Валидация номера телефона (15 тестов):**
   - Корректные номера (различные форматы)
   - Некорректные номера (неверное количество цифр)
   - Некорректные номера (недопустимые символы)
   - Пустой ввод
   - Различные комбинации символов

3. **Функция валидации (6 тестов):**
   - Тестирование функции `validate_phone()` напрямую
   - Проверка различных сценариев валидации

**Всего тестов: 26** (превышает требуемые 15)

## Технологии

- **Flask** - веб-фреймворк
- **Bootstrap 5** - CSS фреймворк для стилизации
- **Jinja2** - шаблонизатор
- **unittest** - фреймворк для тестирования

## Автор

Лабораторная работа выполнена в рамках курса "Разработка веб-приложений"
